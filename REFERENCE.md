# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`x509`](#x509): Class to easily add intermediate CA's and (wildcard) certificates in a safe way.  Requires correspondence between names. _ for wildcard names

## Classes

### `x509`

Class to easily add intermediate CA's and
(wildcard) certificates in a safe way.

Requires correspondence between names.
_ for wildcard names is suggest, eg:
    _.google.com

The certs installed in the correct trust bundles
by using required packages.

will be integrated in the systems trusted CA's
They will also be integrated into the keystore, but
you might want to manually import the key into the keystore

The $keys array should be stored in hiera and encrypted
with eyaml. That's the proper way to do it. Anything else
is not likely secure. But YMMV.
Storing the private keys eyaml encrypted is fairly safe.

class x509 {
  $cns => [
    '_.google.com',
    '_.google.co.uk',
  ]
  $keys => [
    { name: _.google.com,
      data: >
        ----- BEGIN PRIVATE KEY ----
        pem encoded key
        ----- END PRIVATE KEY ----
    },
    { name: _.google.co.uk,
      data: >
        ----- BEGIN PRIVATE KEY ----
        pem encoded key
        ----- END PRIVATE KEY ----
    }
  ]
}

#### Parameters

The following parameters are available in the `x509` class.

##### `ca_certificates_package_name`

Data type: `String`

The name of the package that contains folders and binaries
needed to update system trusted certificates and
certificate authorities.

##### `shared_ca_certificates_folder`

Data type: `Stdlib::Absolutepath`

The folder to normally place trusted certificate authorities
and - more importantly - trusted intermediary certificate
authorities.

##### `shared_ca_trust_certificates_folder`

Data type: `Stdlib::Absolutepath`

The shared_ca_trust_certificates_folder is a RedHat
thing. It distinguishes between normal ca certificates
and trusted ca certificates. This is not about being more or
less trusted, but trusted certificates have rules embedded
as to what they can be used as.
So they need to be treated differently.

##### `update_ca_certficates_binary`

Data type: `Stdlib::Absolutepath`

The binary to run to update the systems trust by adding
the new certificates.

##### `group_name`

Data type: `String`

The name of the group that is allowed to read private keys.
When you have several applications that need to read the
private key, eg. apache, tomcat, redis, in order to provide
secure communication.

##### `cns`

Data type: `Array[String]`



##### `keys`

Data type: `Hash`



##### `certs`

Data type: `Hash`



